Traceback (most recent call last):
  File "apps/frappe/frappe/database/database.py", line 150, in sql
    self._cursor.execute(query, values)
  File "env/lib/python3.7/site-packages/pymysql/cursors.py", line 148, in execute
    result = self._query(query)
  File "env/lib/python3.7/site-packages/pymysql/cursors.py", line 310, in _query
    conn.query(q)
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 775, in _read_query_result
    result.read()
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 725, in _read_packet
    packet.raise_for_error()
  File "env/lib/python3.7/site-packages/pymysql/protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "env/lib/python3.7/site-packages/pymysql/err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1213, 'Deadlock found when trying to get lock; try restarting transaction')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 250, in resume
    data = self.get_session_record()
  File "apps/frappe/frappe/sessions.py", line 267, in get_session_record
    r = self.get_session_data()
  File "apps/frappe/frappe/sessions.py", line 281, in get_session_data
    data = self.get_session_data_from_cache()
  File "apps/frappe/frappe/sessions.py", line 298, in get_session_data_from_cache
    self._delete_session()
  File "apps/frappe/frappe/sessions.py", line 323, in _delete_session
    delete_session(self.sid, reason="Session Expired")
  File "apps/frappe/frappe/sessions.py", line 89, in delete_session
    logout_feed(user, reason)
  File "apps/frappe/frappe/core/doctype/activity_log/feed.py", line 57, in logout_feed
    add_authentication_log(subject, user, operation="Logout")
  File "apps/frappe/frappe/core/doctype/activity_log/activity_log.py", line 41, in add_authentication_log
    }).insert(ignore_permissions=True, ignore_links=True)
  File "apps/frappe/frappe/model/document.py", line 252, in insert
    self.db_insert()
  File "apps/frappe/frappe/model/base_document.py", line 380, in db_insert
    ), list(d.values()))
  File "apps/frappe/frappe/database/database.py", line 175, in sql
    raise frappe.QueryDeadlockError(e)
frappe.exceptions.QueryDeadlockError: (1213, 'Deadlock found when trying to get lock; try restarting transaction')

[{'name': 'SAL-ORD-2022-00002', 'customer_name': 'nitesh', 'status': 'To Deliver and Bill', 'delivery_status': 'Not Delivered', 'billing_status': 'Not Billed', 'delivery_date': datetime.date(2022, 5, 17), 'allDay': 0}, {'name': 'SAL-ORD-2022-00001', 'customer_name': 'ashish', 'status': 'To Deliver and Bill', 'delivery_status': 'Not Delivered', 'billing_status': 'Not Billed', 'delivery_date': datetime.date(2022, 5, 17), 'allDay': 0}]
Traceback (most recent call last):
  File "apps/frappe/frappe/model/base_document.py", line 380, in db_insert
    ), list(d.values()))
  File "apps/frappe/frappe/database/database.py", line 150, in sql
    self._cursor.execute(query, values)
  File "env/lib/python3.7/site-packages/pymysql/cursors.py", line 148, in execute
    result = self._query(query)
  File "env/lib/python3.7/site-packages/pymysql/cursors.py", line 310, in _query
    conn.query(q)
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 775, in _read_query_result
    result.read()
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 725, in _read_packet
    packet.raise_for_error()
  File "env/lib/python3.7/site-packages/pymysql/protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "env/lib/python3.7/site-packages/pymysql/err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1062, "Duplicate entry 'ashishverma723@gmail.com' for key 'PRIMARY'")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/client.py", line 212, in save
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 255, in insert
    raise e
  File "apps/frappe/frappe/model/document.py", line 252, in insert
    self.db_insert()
  File "apps/frappe/frappe/model/base_document.py", line 393, in db_insert
    raise frappe.DuplicateEntryError(self.doctype, self.name, e)
frappe.exceptions.DuplicateEntryError: ('User', 'ashishverma723@gmail.com', IntegrityError(1062, "Duplicate entry 'ashishverma723@gmail.com' for key 'PRIMARY'"))

Traceback (most recent call last):
  File "apps/frappe/frappe/model/base_document.py", line 380, in db_insert
    ), list(d.values()))
  File "apps/frappe/frappe/database/database.py", line 150, in sql
    self._cursor.execute(query, values)
  File "env/lib/python3.7/site-packages/pymysql/cursors.py", line 148, in execute
    result = self._query(query)
  File "env/lib/python3.7/site-packages/pymysql/cursors.py", line 310, in _query
    conn.query(q)
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 548, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 775, in _read_query_result
    result.read()
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 1156, in read
    first_packet = self.connection._read_packet()
  File "env/lib/python3.7/site-packages/pymysql/connections.py", line 725, in _read_packet
    packet.raise_for_error()
  File "env/lib/python3.7/site-packages/pymysql/protocol.py", line 221, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "env/lib/python3.7/site-packages/pymysql/err.py", line 143, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1062, "Duplicate entry 'ashishverma723@gmail.com' for key 'PRIMARY'")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/client.py", line 212, in save
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 255, in insert
    raise e
  File "apps/frappe/frappe/model/document.py", line 252, in insert
    self.db_insert()
  File "apps/frappe/frappe/model/base_document.py", line 393, in db_insert
    raise frappe.DuplicateEntryError(self.doctype, self.name, e)
frappe.exceptions.DuplicateEntryError: ('User', 'ashishverma723@gmail.com', IntegrityError(1062, "Duplicate entry 'ashishverma723@gmail.com' for key 'PRIMARY'"))

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 37, in validate
    self.check_email_id_is_unique()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 94, in check_email_id_is_unique
    .format(comma_and(duplicate_leads)), frappe.DuplicateEntryError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.DuplicateEntryError: Email Address must be unique, already exists for CRM-LEAD-2022-00010

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 37, in validate
    self.check_email_id_is_unique()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 94, in check_email_id_is_unique
    .format(comma_and(duplicate_leads)), frappe.DuplicateEntryError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.DuplicateEntryError: Email Address must be unique, already exists for CRM-LEAD-2022-00010

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 37, in validate
    self.check_email_id_is_unique()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 94, in check_email_id_is_unique
    .format(comma_and(duplicate_leads)), frappe.DuplicateEntryError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.DuplicateEntryError: Email Address must be unique, already exists for CRM-LEAD-2022-00010

Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    from crontab import CronTab
ModuleNotFoundError: No module named 'crontab'

Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"

Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1092, in load_app_hooks
    app_hooks = get_module(app + ".hooks")
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/hooks.py", line 2, in <module>
    import CronTab
ModuleNotFoundError: No module named 'CronTab'

Could not find app "None"
Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 37, in validate
    self.check_email_id_is_unique()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 94, in check_email_id_is_unique
    .format(comma_and(duplicate_leads)), frappe.DuplicateEntryError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.DuplicateEntryError: Email Address must be unique, already exists for CRM-LEAD-2022-00038

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 37, in validate
    self.check_email_id_is_unique()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 94, in check_email_id_is_unique
    .format(comma_and(duplicate_leads)), frappe.DuplicateEntryError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.DuplicateEntryError: Email Address must be unique, already exists for CRM-LEAD-2022-00038

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 37, in validate
    self.check_email_id_is_unique()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 94, in check_email_id_is_unique
    .format(comma_and(duplicate_leads)), frappe.DuplicateEntryError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.DuplicateEntryError: Email Address must be unique, already exists for CRM-LEAD-2022-00038

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: r6 is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: r6 is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: r6 is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 843, in get_cached_doc
    doc = get_doc(doc)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'
Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'
Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'


Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'


Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/auth.py", line 122, in __init__
    self.make_session(resume=True)
  File "apps/frappe/frappe/auth.py", line 206, in make_session
    full_name=self.full_name, user_type=self.user_type)
  File "apps/frappe/frappe/sessions.py", line 189, in __init__
    self.resume()
  File "apps/frappe/frappe/sessions.py", line 255, in resume
    validate_ip_address(self.user)
  File "apps/frappe/frappe/auth.py", line 390, in validate_ip_address
    user = frappe.get_cached_doc("User", user) if not frappe.flags.in_test else frappe.get_doc("User", user)
  File "apps/frappe/frappe/__init__.py", line 848, in get_cached_doc
    doc = get_doc(*args, **kwargs)
  File "apps/frappe/frappe/__init__.py", line 891, in get_doc
    doc = frappe.model.document.get_doc(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 73, in get_doc
    controller = get_controller(doctype)
  File "apps/frappe/frappe/model/base_document.py", line 74, in get_controller
    site_controllers[doctype] = _get_controller()
  File "apps/frappe/frappe/model/base_document.py", line 48, in _get_controller
    class_overrides = frappe.get_hooks('override_doctype_class')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 129, in __init__
    self.set_user_info()
  File "apps/frappe/frappe/auth.py", line 180, in set_user_info
    frappe.local.response["home_page"] = '/' + get_home_page()
  File "apps/frappe/frappe/website/utils.py", line 106, in get_home_page
    return frappe.cache().hget("home_page", frappe.session.user, _get_home_page)
  File "apps/frappe/frappe/utils/redis_wrapper.py", line 191, in hget
    value = generator()
  File "apps/frappe/frappe/website/utils.py", line 89, in _get_home_page
    home_page = get_home_page_via_hooks()
  File "apps/frappe/frappe/website/utils.py", line 111, in get_home_page_via_hooks
    home_page_method = frappe.get_hooks('get_website_user_home_page')
  File "apps/frappe/frappe/__init__.py", line 1113, in get_hooks
    hooks = _dict(load_app_hooks())
  File "apps/frappe/frappe/__init__.py", line 1104, in load_app_hooks
    append_hook(hooks, key, getattr(app_hooks, key))
  File "apps/frappe/frappe/__init__.py", line 1134, in append_hook
    append_hook(target[key], inkey, value[inkey])
  File "apps/frappe/frappe/__init__.py", line 1140, in append_hook
    target[key].extend(value)
AttributeError: 'dict' object has no attribute 'extend'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1158, in composer
    hooks.append(frappe.get_attr(handler))
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 953, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1158, in composer
    hooks.append(frappe.get_attr(handler))
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 953, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1158, in composer
    hooks.append(frappe.get_attr(handler))
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 953, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization'

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1158, in composer
    hooks.append(frappe.get_attr(handler))
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 724, in exec_module
  File "<frozen importlib._bootstrap_external>", line 860, in get_code
  File "<frozen importlib._bootstrap_external>", line 791, in source_to_code
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead.py", line 23
    if self.creation>get_time('09:00') and self.creation<get.time('18:00'):
    ^
IndentationError: unexpected indent

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1158, in composer
    hooks.append(frappe.get_attr(handler))
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 724, in exec_module
  File "<frozen importlib._bootstrap_external>", line 860, in get_code
  File "<frozen importlib._bootstrap_external>", line 791, in source_to_code
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead.py", line 23
    if self.creation>get_time('09:00') and self.creation<get.time('18:00'):
    ^
IndentationError: unexpected indent

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1158, in composer
    hooks.append(frappe.get_attr(handler))
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 724, in exec_module
  File "<frozen importlib._bootstrap_external>", line 860, in get_code
  File "<frozen importlib._bootstrap_external>", line 791, in source_to_code
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead.py", line 23
    if self.creation>get_time('09:00') and self.creation<get.time('18:00'):
    ^
IndentationError: unexpected indent

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1158, in composer
    hooks.append(frappe.get_attr(handler))
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 724, in exec_module
  File "<frozen importlib._bootstrap_external>", line 860, in get_code
  File "<frozen importlib._bootstrap_external>", line 791, in source_to_code
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead.py", line 23
    if self.creation>get_time('09:00') and self.creation<get.time('18:00'):
    ^
IndentationError: unexpected indent

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1158, in composer
    hooks.append(frappe.get_attr(handler))
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 724, in exec_module
  File "<frozen importlib._bootstrap_external>", line 860, in get_code
  File "<frozen importlib._bootstrap_external>", line 791, in source_to_code
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead.py", line 23
    if self.creation>get_time('09:00') and self.creation<get.time('18:00'):
    ^
IndentationError: unexpected indent

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1158, in composer
    hooks.append(frappe.get_attr(handler))
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 724, in exec_module
  File "<frozen importlib._bootstrap_external>", line 860, in get_code
  File "<frozen importlib._bootstrap_external>", line 791, in source_to_code
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead.py", line 23
    if self.creation>get_time('09:00') and self.creation<get.time('18:00'):
    ^
IndentationError: unexpected indent

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
TypeError: validate() takes 1 positional argument but 2 were given

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
TypeError: validate() takes 1 positional argument but 2 were given

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
TypeError: validate() takes 1 positional argument but 2 were given

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    if self.creation>get_time('09:00') and self.creation<get.time('18:00'):
TypeError: '>' not supported between instances of 'str' and 'datetime.time'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    if self.creation>get_time('09:00') and self.creation<get.time('18:00'):
TypeError: '>' not supported between instances of 'str' and 'datetime.time'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    if self.creation>get_time('09:00') and self.creation<get.time('18:00'):
TypeError: '>' not supported between instances of 'str' and 'datetime.time'

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    creation_time = self.creation.time()
AttributeError: 'str' object has no attribute 'time'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    creation_time = self.creation.time()
AttributeError: 'str' object has no attribute 'time'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    creation_time = self.creation.time()
AttributeError: 'str' object has no attribute 'time'

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    creation_time = self.creation.time()
AttributeError: 'str' object has no attribute 'time'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    creation_time = self.creation.time()
AttributeError: 'str' object has no attribute 'time'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    creation_time = self.creation.time()
AttributeError: 'str' object has no attribute 'time'

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: oops is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: oops is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: oops is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    if self.creation>str(get_time('09:00')) and self.creation<str(get.time('18:00')):
NameError: name 'get' is not defined

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    if self.creation>str(get_time('09:00')) and self.creation<str(get.time('18:00')):
NameError: name 'get' is not defined

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 22, in validate
    if self.creation>str(get_time('09:00')) and self.creation<str(get.time('18:00')):
NameError: name 'get' is not defined

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: pagal is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: pagal is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: pagal is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 24, in validate
    frappe.lof_error(get_time('10:00'), 'hello')
AttributeError: module 'frappe' has no attribute 'lof_error'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 24, in validate
    frappe.lof_error(get_time('10:00'), 'hello')
AttributeError: module 'frappe' has no attribute 'lof_error'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 24, in validate
    frappe.lof_error(get_time('10:00'), 'hello')
AttributeError: module 'frappe' has no attribute 'lof_error'

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: op is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: op is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: op is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    frappe.log_error(self.creation.time(),'test')
AttributeError: 'str' object has no attribute 'time'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    frappe.log_error(self.creation.time(),'test')
AttributeError: 'str' object has no attribute 'time'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    frappe.log_error(self.creation.time(),'test')
AttributeError: 'str' object has no attribute 'time'

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: ytu is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: ytu is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: ytu is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    creation_time = self.creation.strftime("%H:%M:%S")
AttributeError: 'str' object has no attribute 'strftime'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    creation_time = self.creation.strftime("%H:%M:%S")
AttributeError: 'str' object has no attribute 'strftime'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    creation_time = self.creation.strftime("%H:%M:%S")
AttributeError: 'str' object has no attribute 'strftime'

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    creation_time = self.creation.strftime("%H:%M:%S")
AttributeError: 'str' object has no attribute 'strftime'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    creation_time = self.creation.strftime("%H:%M:%S")
AttributeError: 'str' object has no attribute 'strftime'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    creation_time = self.creation.strftime("%H:%M:%S")
AttributeError: 'str' object has no attribute 'strftime'

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    creation_time == self.creation
NameError: name 'creation_time' is not defined

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    creation_time == self.creation
NameError: name 'creation_time' is not defined

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 23, in validate
    creation_time == self.creation
NameError: name 'creation_time' is not defined

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 26, in validate
    if time>get_time('09:00') and time<get_time('18:00'):
TypeError: '>' not supported between instances of 'str' and 'datetime.time'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 26, in validate
    if time>get_time('09:00') and time<get_time('18:00'):
TypeError: '>' not supported between instances of 'str' and 'datetime.time'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 26, in validate
    if time>get_time('09:00') and time<get_time('18:00'):
TypeError: '>' not supported between instances of 'str' and 'datetime.time'

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 27, in validate
    self.description=="Project Manager"
AttributeError: 'Lead' object has no attribute 'description'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 27, in validate
    self.description=="Project Manager"
AttributeError: 'Lead' object has no attribute 'description'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 27, in validate
    self.description=="Project Manager"
AttributeError: 'Lead' object has no attribute 'description'

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 28, in validate
    frappe.db.set_value("Lead", self, "designation", "Project Manager")
  File "apps/frappe/frappe/database/database.py", line 696, in set_value
    x[0] for x in self.get_values(dt, dn, "name", debug=debug, for_update=for_update)
  File "apps/frappe/frappe/database/database.py", line 463, in get_values
    for_update=for_update, limit=limit)
  File "apps/frappe/frappe/database/database.py", line 619, in _get_values_from_table
    conditions, values = self.build_conditions(filters)
  File "apps/frappe/frappe/database/database.py", line 381, in build_conditions
    for f in filters:
TypeError: 'Lead' object is not iterable

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 28, in validate
    frappe.db.set_value("Lead", self, "designation", "Project Manager")
  File "apps/frappe/frappe/database/database.py", line 696, in set_value
    x[0] for x in self.get_values(dt, dn, "name", debug=debug, for_update=for_update)
  File "apps/frappe/frappe/database/database.py", line 463, in get_values
    for_update=for_update, limit=limit)
  File "apps/frappe/frappe/database/database.py", line 619, in _get_values_from_table
    conditions, values = self.build_conditions(filters)
  File "apps/frappe/frappe/database/database.py", line 381, in build_conditions
    for f in filters:
TypeError: 'Lead' object is not iterable

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 28, in validate
    frappe.db.set_value("Lead", self, "designation", "Project Manager")
  File "apps/frappe/frappe/database/database.py", line 696, in set_value
    x[0] for x in self.get_values(dt, dn, "name", debug=debug, for_update=for_update)
  File "apps/frappe/frappe/database/database.py", line 463, in get_values
    for_update=for_update, limit=limit)
  File "apps/frappe/frappe/database/database.py", line 619, in _get_values_from_table
    conditions, values = self.build_conditions(filters)
  File "apps/frappe/frappe/database/database.py", line 381, in build_conditions
    for f in filters:
TypeError: 'Lead' object is not iterable

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 29, in validate
    frappe.db.set_value("Lead", self, "designation", "Project Manager")
  File "apps/frappe/frappe/database/database.py", line 696, in set_value
    x[0] for x in self.get_values(dt, dn, "name", debug=debug, for_update=for_update)
  File "apps/frappe/frappe/database/database.py", line 463, in get_values
    for_update=for_update, limit=limit)
  File "apps/frappe/frappe/database/database.py", line 619, in _get_values_from_table
    conditions, values = self.build_conditions(filters)
  File "apps/frappe/frappe/database/database.py", line 381, in build_conditions
    for f in filters:
TypeError: 'Lead' object is not iterable

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 29, in validate
    frappe.db.set_value("Lead", self, "designation", "Project Manager")
  File "apps/frappe/frappe/database/database.py", line 696, in set_value
    x[0] for x in self.get_values(dt, dn, "name", debug=debug, for_update=for_update)
  File "apps/frappe/frappe/database/database.py", line 463, in get_values
    for_update=for_update, limit=limit)
  File "apps/frappe/frappe/database/database.py", line 619, in _get_values_from_table
    conditions, values = self.build_conditions(filters)
  File "apps/frappe/frappe/database/database.py", line 381, in build_conditions
    for f in filters:
TypeError: 'Lead' object is not iterable

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 29, in validate
    frappe.db.set_value("Lead", self, "designation", "Project Manager")
  File "apps/frappe/frappe/database/database.py", line 696, in set_value
    x[0] for x in self.get_values(dt, dn, "name", debug=debug, for_update=for_update)
  File "apps/frappe/frappe/database/database.py", line 463, in get_values
    for_update=for_update, limit=limit)
  File "apps/frappe/frappe/database/database.py", line 619, in _get_values_from_table
    conditions, values = self.build_conditions(filters)
  File "apps/frappe/frappe/database/database.py", line 381, in build_conditions
    for f in filters:
TypeError: 'Lead' object is not iterable

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 29, in validate
    self.validate_emails()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 41, in validate_emails
    validate_email_address(email, True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: Administrator is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 29, in validate
    self.validate_emails()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 41, in validate_emails
    validate_email_address(email, True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: Administrator is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 29, in validate
    self.validate_emails()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 41, in validate_emails
    validate_email_address(email, True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: Administrator is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 29, in validate
    self.validate_emails()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 41, in validate_emails
    validate_email_address(email, True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: Administrator is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 29, in validate
    self.validate_emails()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 41, in validate_emails
    validate_email_address(email, True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: Administrator is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 29, in validate
    self.validate_emails()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 41, in validate_emails
    validate_email_address(email, True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: Administrator is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 31, in validate
    self.validate_mandatory_fields()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 73, in validate_mandatory_fields
    '<br><br><ul><li>' + ' <li>'.join(throw_list) + '</ul>',
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Following Report Filters have missing values:<br><br><ul><li>Company <li>Filter Based On <li>Start Date <li>End Date <li>Start Year <li>End Year <li>Periodicity <li>Invoice Type</ul>

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 31, in validate
    self.validate_mandatory_fields()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 73, in validate_mandatory_fields
    '<br><br><ul><li>' + ' <li>'.join(throw_list) + '</ul>',
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Following Report Filters have missing values:<br><br><ul><li>Company <li>Filter Based On <li>Start Date <li>End Date <li>Start Year <li>End Year <li>Periodicity <li>Invoice Type</ul>
Traceback (most recent call last):
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 28, in validate
    self.validate_report_count()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 52, in validate_report_count
    frappe.throw(_('Only {0} emailed reports are allowed per user').format(max_reports_per_user))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Only 3 emailed reports are allowed per user

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 28, in validate
    self.validate_report_count()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 52, in validate_report_count
    frappe.throw(_('Only {0} emailed reports are allowed per user').format(max_reports_per_user))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Only 3 emailed reports are allowed per user

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 28, in validate
    self.validate_report_count()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 52, in validate_report_count
    frappe.throw(_('Only {0} emailed reports are allowed per user').format(max_reports_per_user))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Only 3 emailed reports are allowed per user


Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/frappe/frappe/desk/form/save.py", line 21, in savedocs
    doc.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 309, in _save
    return self.insert()
  File "apps/frappe/frappe/model/document.py", line 240, in insert
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 31, in validate
    self.validate_mandatory_fields()
  File "apps/frappe/frappe/email/doctype/auto_email_report/auto_email_report.py", line 73, in validate_mandatory_fields
    '<br><br><ul><li>' + ' <li>'.join(throw_list) + '</ul>',
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Following Report Filters have missing values:<br><br><ul><li>Company <li>Filter Based On <li>Start Date <li>End Date <li>Start Year <li>End Year <li>Periodicity <li>Invoice Type</ul>

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 114, in __init__
    if self.login()==False: return
  File "apps/frappe/frappe/auth.py", line 136, in login
    self.authenticate(user=user, pwd=pwd)
  File "apps/frappe/frappe/auth.py", line 232, in authenticate
    self.fail('Invalid login credentials')
  File "apps/frappe/frappe/auth.py", line 284, in fail
    raise frappe.AuthenticationError
frappe.exceptions.AuthenticationError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 32, in __init__
    self.set_session()
  File "apps/frappe/frappe/auth.py", line 69, in set_session
    frappe.local.login_manager = LoginManager()
  File "apps/frappe/frappe/auth.py", line 114, in __init__
    if self.login()==False: return
  File "apps/frappe/frappe/auth.py", line 136, in login
    self.authenticate(user=user, pwd=pwd)
  File "apps/frappe/frappe/auth.py", line 232, in authenticate
    self.fail('Invalid login credentials')
  File "apps/frappe/frappe/auth.py", line 284, in fail
    raise frappe.AuthenticationError
frappe.exceptions.AuthenticationError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

{'email_id': 'asma@gmail.com'}
{'email_id': 'asma1234@gmail.com'} asma1234@gmail.com
{'email_id': 'asma@gmail.com'} asma@gmail.com
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

{'email_id': 'asma1234@gmail.com'} asma1234@gmail.com
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

{'email_id': 'asma@gmail.com'} asma@gmail.com
{'email_id': 'asma@gmail.com'} asma@gmail.com
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish ?'} asma@gmail.com
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish ?'} asma@gmail.com
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var = mail['email_id']
TypeError: string indices must be integers

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var = mail['email_id']
TypeError: string indices must be integers

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var = mail['email_id']
TypeError: string indices must be integers

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

ashishverma723@gmail.com
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

ashishverma723@gmail.com
ashishverma723@gmail.com
ashishverma723@gmail.com
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish ?'}
hello ashish
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish ?'}
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish ?'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 18, in check_for_mail
    details.notes = details.notes + '<br>'+ x +" "+ var2
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 18, in check_for_mail
    details.notes = details.notes + '<br>'+ x +" "+ var2
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish ?'}
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish ?'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

{'email_id': 'asma@gmail.com'}
{'email_id': 'asma@gmail.com'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

{'email_id': 'asma@gmail.com'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 11, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 11, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

{'email_id': 'asma@gmail.com'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 11, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 11, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

{'email_id': 'asma@gmail.com'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 16, in check_for_mail
    details.notes = details.notes + '<br>'+ x +" "+ var2
NameError: name 'var2' is not defined

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 16, in check_for_mail
    details.notes = details.notes + '<br>'+ x +" "+ var2
NameError: name 'var2' is not defined

{'email_id': 'asma@gmail.com'}
{'email_id': 'hello ashish verma', 'notes': 'hello ashish verma'}
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 17, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 17, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 17, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 17, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

{'email_id': 'hello ashish verma', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 25, in check_for_mail
    doc.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: hello ashish verma is not a valid Email Address

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 25, in check_for_mail
    doc.insert()
  File "apps/frappe/frappe/model/document.py", line 233, in insert
    self.run_method("before_insert")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1144, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "apps/frappe/frappe/model/document.py", line 866, in fn
    return method_object(*args, **kwargs)
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 28, in before_insert
    self.contact_doc = self.create_contact()
  File "apps/erpnext/erpnext/crm/doctype/lead/lead.py", line 191, in create_contact
    contact.insert(ignore_permissions=True)
  File "apps/frappe/frappe/model/document.py", line 241, in insert
    self._validate()
  File "apps/frappe/frappe/model/document.py", line 498, in _validate
    self._validate_data_fields()
  File "apps/frappe/frappe/model/base_document.py", line 679, in _validate_data_fields
    frappe.utils.validate_email_address(email_address, throw=True)
  File "apps/frappe/frappe/utils/__init__.py", line 151, in validate_email_address
    email = _check(e.strip())
  File "apps/frappe/frappe/utils/__init__.py", line 144, in _check
    frappe.InvalidEmailAddressError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.InvalidEmailAddressError: hello ashish verma is not a valid Email Address

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 5, in <module>
    import request
ModuleNotFoundError: No module named 'request'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_dup.check_for_mail with No module named 'request'

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 5, in <module>
    import request
ModuleNotFoundError: No module named 'request'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_dup.check_for_mail with No module named 'request'

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 5, in <module>
    import request
ModuleNotFoundError: No module named 'request'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_dup.check_for_mail with No module named 'request'

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 5, in <module>
    import request
ModuleNotFoundError: No module named 'request'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_dup.check_for_mail with No module named 'request'

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 728, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 5, in <module>
    import request
ModuleNotFoundError: No module named 'request'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_dup.check_for_mail with No module named 'request'

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 9, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 9, in check_for_mail
    mail = json.dumps(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.7/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.7/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.7/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 9, in check_for_mail
    mail = json.dumps(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python3.7/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python3.7/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python3.7/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_dup.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 9, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 20, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 16, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 125, in init_request
    make_form_dict(request)
  File "apps/frappe/frappe/app.py", line 186, in make_form_dict
    args = json.loads(request_data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 2 column 5 (char 7)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 125, in init_request
    make_form_dict(request)
  File "apps/frappe/frappe/app.py", line 186, in make_form_dict
    args = json.loads(request_data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 2 column 5 (char 7)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 65, in execute_cmd
    is_whitelisted(method)
  File "apps/frappe/frappe/__init__.py", line 613, in is_whitelisted
    throw(_("Not permitted"), PermissionError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.PermissionError: Not permitted

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 10, in check_for_mail
    var2= mail['notes']
KeyError: 'notes'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 14, in check_for_mail
    x = str(datetime.date.today())
NameError: name 'datetime' is not defined

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 14, in check_for_mail
    x = str(datetime.date.today())
NameError: name 'datetime' is not defined

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 14, in check_for_mail
    x = str(datetime.date.today())
AttributeError: 'method_descriptor' object has no attribute 'today'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 14, in check_for_mail
    x = str(datetime.date.today())
AttributeError: 'method_descriptor' object has no attribute 'today'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 14, in check_for_mail
    x = str(datetime.date.today())
AttributeError: 'method_descriptor' object has no attribute 'today'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 14, in check_for_mail
    x = str(datetime.date.today())
AttributeError: 'method_descriptor' object has no attribute 'today'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 19, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 324, in _save
    self.run_before_save_methods()
  File "apps/frappe/frappe/model/document.py", line 971, in run_before_save_methods
    self.run_method("validate")
  File "apps/frappe/frappe/model/document.py", line 869, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1161, in composer
    return composed(self, method, *args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 1146, in runner
    add_to_return_value(self, f(self, method, *args, **kwargs))
  File "apps/core_erp/core_erp/customization/lead.py", line 37, in validate
    b= creation_time.split()
AttributeError: 'datetime.datetime' object has no attribute 'split'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead_ap.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 962, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization.lead.lead_ad'; 'core_erp.customization.lead' is not a package

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead.lead_ad.check_for_mail with No module named 'core_erp.customization.lead.lead_ad'; 'core_erp.customization.lead' is not a package

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 962, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization.lead.lead_ad'; 'core_erp.customization.lead' is not a package

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead.lead_ad.check_for_mail with No module named 'core_erp.customization.lead.lead_ad'; 'core_erp.customization.lead' is not a package

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization.lead_ap'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_ap.check_for_mail with No module named 'core_erp.customization.lead_ap'

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization.lead_ap'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_ap.check_for_mail with No module named 'core_erp.customization.lead_ap'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 8, in check_for_mail
    mail = json.loads(frappe.request.data)
  File "/usr/lib/python3.7/json/__init__.py", line 348, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.7/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.7/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization.lead_ap'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_ap.check_for_mail with No module named 'core_erp.customization.lead_ap'

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization.lead_ap'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_ap.check_for_mail with No module named 'core_erp.customization.lead_ap'

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization.lead_ap'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_ap.check_for_mail with No module named 'core_erp.customization.lead_ap'

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization.lead_ap'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_ap.check_for_mail with No module named 'core_erp.customization.lead_ap'

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization.lead_ap'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_ap.check_for_mail with No module named 'core_erp.customization.lead_ap'

Traceback (most recent call last):
  File "apps/frappe/frappe/handler.py", line 57, in execute_cmd
    method = get_attr(cmd)
  File "apps/frappe/frappe/handler.py", line 203, in get_attr
    method = frappe.get_attr(cmd)
  File "apps/frappe/frappe/__init__.py", line 1204, in get_attr
    return getattr(get_module(modulename), methodname)
  File "apps/frappe/frappe/__init__.py", line 980, in get_module
    return importlib.import_module(modulename)
  File "env/lib/python3.7/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
  File "<frozen importlib._bootstrap>", line 983, in _find_and_load
  File "<frozen importlib._bootstrap>", line 965, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'core_erp.customization.lead_ap'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 59, in execute_cmd
    frappe.throw(_('Failed to get method for command {0} with {1}').format(cmd, e))
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.ValidationError: Failed to get method for command core_erp.customization.lead_ap.check_for_mail with No module named 'core_erp.customization.lead_ap'

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError


{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'username': 'Administrator', 'password': '12345', 'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'ashishverma723@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 17, in check_for_mail
    details.notes = details.notes + '<br>'+ x +" "+ var2
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 17, in check_for_mail
    details.notes = details.notes + '<br>'+ x +" "+ var2
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'username': 'Administrator', 'password': '12345', 'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'username': 'Administrator', 'password': '12345', 'email_id': 'asma@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'ashishverma723@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 17, in check_for_mail
    details.notes = details.notes + '<br>'+ x + " " + var2
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 17, in check_for_mail
    details.notes = details.notes + '<br>'+ x + " " + var2
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

{'email_id': 'ashishverma723@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

{'email_id': 'ashishverma723@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 54, in application
    init_request(request)
  File "apps/frappe/frappe/app.py", line 128, in init_request
    frappe.local.http_request = frappe.auth.HTTPRequest()
  File "apps/frappe/frappe/auth.py", line 38, in __init__
    self.validate_csrf_token()
  File "apps/frappe/frappe/auth.py", line 90, in validate_csrf_token
    frappe.throw(_("Invalid Request"), frappe.CSRFTokenError)
  File "apps/frappe/frappe/__init__.py", line 444, in throw
    msgprint(msg, raise_exception=exc, title=title, indicator='red', is_minimizable=is_minimizable, wide=wide, as_list=as_list)
  File "apps/frappe/frappe/__init__.py", line 423, in msgprint
    _raise_exception()
  File "apps/frappe/frappe/__init__.py", line 378, in _raise_exception
    raise raise_exception(msg)
frappe.exceptions.CSRFTokenError: Invalid Request

{'email_id': 'ashishverma723@gmail.com', 'notes': 'hello ashish verma'}
Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError

Traceback (most recent call last):
  File "apps/frappe/frappe/app.py", line 68, in application
    response = frappe.api.handle()
  File "apps/frappe/frappe/api.py", line 55, in handle
    return frappe.handler.handle()
  File "apps/frappe/frappe/handler.py", line 31, in handle
    data = execute_cmd(cmd)
  File "apps/frappe/frappe/handler.py", line 68, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "apps/frappe/frappe/__init__.py", line 1213, in call
    return fn(*args, **newargs)
  File "apps/core_erp/core_erp/customization/lead/lead_dup.py", line 18, in check_for_mail
    details.save()
  File "apps/frappe/frappe/model/document.py", line 287, in save
    return self._save(*args, **kwargs)
  File "apps/frappe/frappe/model/document.py", line 311, in _save
    self.check_permission("write", "save")
  File "apps/frappe/frappe/model/document.py", line 187, in check_permission
    self.raise_no_permission_to(permlevel or permtype)
  File "apps/frappe/frappe/model/document.py", line 203, in raise_no_permission_to
    raise frappe.PermissionError
frappe.exceptions.PermissionError
